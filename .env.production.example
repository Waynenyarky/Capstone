# ==========================================
# Capstone Project - PRODUCTION Environment Variables
# ==========================================
# Copy this file to .env on your production server and fill in your actual values.
#
# IMPORTANT SECURITY NOTES:
#   - NEVER commit .env with real values to git
#   - Generate strong random values for secrets
#   - Restrict CORS_ORIGIN to your actual domain
#
# To generate a random JWT secret:
#   openssl rand -base64 64
# ==========================================

# === Database ===
# In Docker Compose, this is overridden to use the internal Docker network
MONGO_URI=mongodb://localhost:27017/capstone_project

# === Service Ports ===
AUTH_SERVICE_PORT=3001
BUSINESS_SERVICE_PORT=3002
ADMIN_SERVICE_PORT=3003
AUDIT_SERVICE_PORT=3004
AI_SERVICE_PORT=3005

# === Service URLs (for inter-service communication) ===
# These are used when services need to call each other outside of Docker
AUTH_SERVICE_URL=http://localhost:3001
BUSINESS_SERVICE_URL=http://localhost:3002
ADMIN_SERVICE_URL=http://localhost:3003
AUDIT_SERVICE_URL=http://localhost:3004
AI_SERVICE_URL=http://localhost:3005

# === Blockchain Configuration ===
GANACHE_RPC_URL=http://127.0.0.1:7545
# Default development private key - DO NOT use in mainnet!
DEPLOYER_PRIVATE_KEY=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3
# Contract addresses are auto-populated by deploy-contracts service
ACCESS_CONTROL_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
USER_REGISTRY_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
DOCUMENT_STORAGE_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
AUDIT_LOG_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
AUDIT_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000

# === IPFS Configuration ===
IPFS_PROVIDER=local
IPFS_API_URL=http://127.0.0.1:5001
IPFS_GATEWAY_URL=http://127.0.0.1:8080/ipfs/

# === Email Configuration ===
# Options: sendgrid, mailgun, aws-ses
EMAIL_API_PROVIDER=sendgrid
# Get your API key from https://app.sendgrid.com/settings/api_keys
EMAIL_API_KEY=YOUR_SENDGRID_API_KEY_HERE
EMAIL_API_URL=https://api.sendgrid.com/v3
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# === Security ===
# IMPORTANT: Generate a strong secret for production!
# Run: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET

# === CORS Configuration ===
# IMPORTANT: Set this to your EC2 public IP or domain
# Format: http://your-ec2-ip:5173 or https://yourdomain.com
# For multiple origins, use comma-separated values: http://localhost:5173,https://yourdomain.com
CORS_ORIGIN=http://YOUR_EC2_PUBLIC_IP:5173

# === Google OAuth (Optional) ===
# Get credentials from https://console.developers.google.com/
GOOGLE_CLIENT_ID=your-google-web-client-id
GOOGLE_SERVER_CLIENT_ID=your-google-web-client-id

# === AI Service Configuration ===
# ID Verification Model (visual appearance classification only - NO government DB verification)
AI_SERVICE_TIMEOUT=30000
AI_LEGIT_THRESHOLD=0.7

# === Docker Internal URLs ===
# These are used automatically by Docker Compose for inter-service communication
# Don't change these unless you modify the Docker network setup
DOCKER_AUTH_SERVICE_URL=http://auth-service:3001
DOCKER_BUSINESS_SERVICE_URL=http://business-service:3002
DOCKER_ADMIN_SERVICE_URL=http://admin-service:3003
DOCKER_AUDIT_SERVICE_URL=http://audit-service:3004
DOCKER_AI_SERVICE_URL=http://ai-service:3005
DOCKER_IPFS_API_URL=http://ipfs:5001
DOCKER_IPFS_GATEWAY_URL=http://ipfs:8080/ipfs/

# === Development Seeding (Disable in Production) ===
# Set to false in production to prevent test data creation
SEED_DEV=false
SEED_TEMP_PASSWORD=TempPass123!

# ==========================================
# PRODUCTION CHECKLIST:
# ==========================================
# [ ] Generated strong JWT_SECRET (openssl rand -base64 64)
# [ ] Set EMAIL_API_KEY to real SendGrid/Mailgun key
# [ ] Updated CORS_ORIGIN to EC2 IP or domain
# [ ] Set SEED_DEV=false
# [ ] Configured DEFAULT_FROM_EMAIL
# [ ] (Optional) Set up Google OAuth credentials
# ==========================================
